<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <title>Talabalar Jadvali (Sodda)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f6fc;
      padding: 40px;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    .form-box {
      text-align: center;
      margin-bottom: 30px;
    }
    input {
      padding: 10px;
      margin: 5px;
      width: 250px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }
    button {
      padding: 10px 20px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background-color: #2980b9;
    }
    table {
      width: 80%;
      margin: 0 auto;
      border-collapse: collapse;
      background-color: white;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    th {
      background-color: #3498db;
      color: white;
    }
    .action-btn {
      margin: 2px;
      padding: 5px 10px;
      font-size: 14px;
      border-radius: 5px;
      cursor: pointer;
    }
    .edit {
      background-color: #f39c12;
      color: white;
      border: none;
    }
    .save {
      background-color: #2ecc71;
      color: white;
      border: none;
    }
  </style>
</head>
<body>

  <h1>üéì Talabalar Jadvali</h1>

  <div class="form-box">
    <input type="text" id="fio" placeholder="F.I.O kiriting">
    <input type="text" id="fakultet" placeholder="Fakultet kiriting">
    <button id="addBtn">Qo‚Äòshish</button>
  </div>

  <table id="studentsTable">
    <thead>
      <tr>
        <th>‚Ññ</th>
        <th>F.I.O</th>
        <th>Fakultet</th>
        <th>Action</th>
        <th>Ma'lumotlari</th>
      </tr>
    </thead>
    <tbody>
      <!-- yangi qatorlar shu yerga qo‚Äòshiladi -->
    </tbody>
  </table>

  <!-- jQuery ulaymiz -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <script>
    $(document).ready(function() {
      let counter = 1;
      let editIndex = null; // tahrirlanayotgan qator

      // Qo‚Äòshish yoki Saqlash tugmasi bosilganda
      $("#addBtn").click(function() {
        let fio = $("#fio").val().trim();
        let fakultet = $("#fakultet").val().trim();

        if (fio === "" || fakultet === "") {
          alert("‚ö†Ô∏è Iltimos, FIO va Fakultetni to‚Äòldiring!");
          return;
        }

        // Agar hozirda tahrirlash rejimi yoq bo‚Äòlsa ‚Äî yangi qator qo‚Äòshiladi
        if (editIndex === null) {
          let newRow = `
            <tr>
              <td>${counter}</td>
              <td>${fio}</td>
              <td>${fakultet}</td>
              <td>
                <button class="action-btn edit">‚úèÔ∏è Tahrirlash</button>
                <button class="action-btn save">üíæ O‚Äòrnatish</button>
              </td>
            </tr>
          `;
          $("#studentsTable tbody").append(newRow);
          counter++;
        } else {
          // tahrirlash rejimi ‚Äî eski qatorni yangilaymiz
          let row = $("#studentsTable tbody tr").eq(editIndex);
          row.find("td:eq(1)").text(fio);
          row.find("td:eq(2)").text(fakultet);

          editIndex = null;
          $("#addBtn").text("Qo‚Äòshish");
        }

        // inputlarni tozalaymiz
        $("#fio").val("");
        $("#fakultet").val("");
      });

      // Tahrirlash tugmasi
      $(document).on("click", ".edit", function() {
        editIndex = $(this).closest("tr").index();
        let row = $(this).closest("tr");

        let fio = row.find("td:eq(1)").text();
        let fakultet = row.find("td:eq(2)").text();

        $("#fio").val(fio);
        $("#fakultet").val(fakultet);

        $("#addBtn").text("Saqlash");
      });

      // O‚Äòrnatish (save) tugmasi ‚Äî tahrirlangan joyni ‚Äútayyor‚Äù holatda saqlaydi
      $(document).on("click", ".save", function() {
        alert("‚úÖ Ma‚Äôlumot o‚Äòrnatildi (hech qanday o‚Äòzgarish yo‚Äòq, faqat demo)");
      });
    });
  </script>

</body>
</html>
